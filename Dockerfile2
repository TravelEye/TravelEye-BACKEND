FROM mysql:8.1.0

# ENV MYSQL_ROOT_PASSWORD=""
ENV MYSQL_ALLOW_EMPTY_PASSWORD=true
ENV MYSQL_DATABASE="traveleye"
ENV MYSQL_HOST="%"

# Grant access to any host
RUN echo "GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY '' WITH GRANT OPTION;" > /docker-entrypoint-initdb.d/allow-host.sql

# Make sure to flush privileges
RUN echo "FLUSH PRIVILEGES;" >> /docker-entrypoint-initdb.d/allow-host.sql